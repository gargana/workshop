<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Lab 1 on taskcat workshop</title><link>/10_lab1.html</link><description>Recent content in Lab 1 on taskcat workshop</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="/10_lab1/index.xml" rel="self" type="application/rss+xml"/><item><title>Add a (Project Level) config</title><link>/10_lab1/10_page2.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/10_lab1/10_page2.html</guid><description> Project Config Ths config file provides project specific configuration.
The project config file is located in the root of your project folder &amp;lt;PROJECT_ROOT&amp;gt;/.taskcat.yml
From the vscode file browser navigate to lab1/cfn-project, and open .taskcat.yml
@TODO Screen shoot need updated to show appstream</description></item><item><title> - Define project section</title><link>/10_lab1/10_page3.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/10_lab1/10_page3.html</guid><description>Add a project section for the value of name: set it to the name of the project folder (cfn-project)
Note: the project name &amp;ldquo;cfn-project&amp;rdquo; has been set as the default for the S3KeyPrefix parameter in the provided template, using this pattern your templates are easily re-usable in other projects where the project name may differ. If you choose a different name for your project you will need to either update the S3KeyPrefix parameter in the template or set an additional parameter override.</description></item><item><title> - Defining tests</title><link>/10_lab1/10_page4.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/10_lab1/10_page4.html</guid><description>Adding test definitions Define a test called mytest and define the template location
Specify path to your relative to you project root template: templates/lab1.template.yaml
Most of the defaults in taskcat can be overriden with command line flags, the default project root is the current working directory, and the default location for the .taskcat.yml file is in the root. To override these defaults you can use --project-root PROJECT_ROOT and --input-file PATH_TO_/.</description></item><item><title> - Define regions</title><link>/10_lab1/10_page5.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/10_lab1/10_page5.html</guid><description> Add regions to your test The region: key is optional for tests by default region inherit from the global configuration (We will conver global configs later in this lab) The region parameter takes a list of regions. When defined in a test, taskcat will limit test to those regions
For now only specifiy one region us-east-1
tests: mytest: template: templates/lab1.template.yaml regions: - us-east-1</description></item><item><title> - Define parameters</title><link>/10_lab1/10_page6.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/10_lab1/10_page6.html</guid><description>Add a parameter section to the test add the parameters: set the value of S3BucketName to $[taskcat_autobucket] This will evaluate to the bucket that taskcat creates during execution. Hint: Parameter vaules can be dynamically passed to a stack during creation when testing with taskcat. For example: By specifing $[taskcat_autobucket] as the value of S3BucketName we can instruct taskcat to replace value with the name of the bucket that will be created at runtime.</description></item><item><title>Lambda packaging</title><link>/10_lab1/10_page8.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/10_lab1/10_page8.html</guid><description>Test staging From your vscode terminal change directory to your project root for lab1 (lab1/cfn-project)
Under cfn-project you will see the following files
cfn-project ├── lambda_functions/source/GenRandom/ ├── templates/lab1.template.yaml └── .taskcat.yml The provided template for lab1 uses lambda backed custom resource.
source/GenRandom contains the lambda source.
When lambda source is detected taskcat will package the lambda zip file and then save it to lambda_functions/packages/. This zip file is referenced in our lambda function.</description></item><item><title>Execute a taskcat test</title><link>/10_lab1/10_page7.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/10_lab1/10_page7.html</guid><description> Start a test From the lab-1/cfn-project dir run you taskcat test
taskcat test run Expected output:</description></item><item><title>View test results</title><link>/10_lab1/10_page9.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/10_lab1/10_page9.html</guid><description>Test Results After the test completes you will see a new folder under cfn-project called taskcat_outputs
cfn-project ├── lambda_functions ├── templates ├── .taskcat.yml └── taskcat_outputs/index.html &amp;lt; - (report) To open taskcat_outputs/index.html in the AppStream browser, we&amp;rsquo;ve provided a simple shortcut that can be executed from the terminal:
open-taskcat-report To see the test logs click the View Logs link</description></item></channel></rss>